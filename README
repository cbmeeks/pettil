2017-11-05
Here's the toolstack I'm using today:
Ubuntu Linux 17.04, bash shell
Sublime Text 3
NodeJS
TiddlyWiki5
Ruby
xa65
make
VICE xpet
git

You could do this with any other operating system, editor or PET emulator,
but at the end of the day, the sole requirement is that it be able to run
on my own Commodore PET 2001-N16, s/n 700251, now with 32K, BASIC 4 ROM,
and a few other bits of hardware added.  Notably this limits the storage
media to cassette tape.

Links:

The project blog is at http://pettil.tumblr.com

Objectives of the project are, in no particular order:
* make a Forth that runs on my Commodore PET 2001
* have fun
* improve my "6502 assembly golf" skills
* find other people who are interested in this project

Future directions
* have a "Forth written in Forth" (metacompilation)
* implement a retro videogame
* add support for more storage devices
* port PETTIL to other 6502-based computers
** PETTIL-VIC
** PETTIL-64
** Apple-PETTIL

The documentation in Tiddlywiki format is generated from the source code
tree.  In addition to a Glossary, I will try to describe some of the more
unusual concepts for an 8-bit Forth and attempt to justify why I put them
into PETTIL.  A copy from the most recent build is hosted at
http://chitselb.com/files/tiddlypettil.html

More in the Forth and Programming forums at http://forum.6502.org, also there is
a Facebook page at https://www.facebook.com/chitselb.pettil/


There is no linker or relocation loader.  pettil.obj is a simple concatenation
of pettil-core.obj + pettil-tdict.obj + pettil.sym

pettil-core is the base language runtime
* arithmetic, boolean and relational operators
* stack and memory manipulation
* virtual memory support
* inner interpreter
* Sweet-16

pettil-tdict (the transient dictionary) contains parts required for development
but not for application runtime.  Anything that touches the symbol table, and
the symbol table itself will disappear, freeing up all but ~6K of RAM for
application code

* outer interpreter
* defining words
* compiler
* assembler
* editor

To build PETTIL, clone this repository, install xa65, ruby and VICE

$ make                       # this does a build and runs PETTIL

Please email chitselb@gmail.com
with any suggestions for improving the documentation.  I want my mom to be
able to understand this and run PETTIL.

http://chitselb.com


N1 value at (6,7)

>N1 store to (6,7)

@N1 6

here >n1 n1 @n1