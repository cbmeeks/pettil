PETTIL is being developed with the VICE package, which is a Commodore PET
emulator that runs under several different operating systems.  I'm doing 
this on Ubuntu Linux, but Windows and Mac users should be able to use
PETTIL on VICE too.  And of course, actual PETs will run it. 

The project blog is at http://pettil.tumblr.com

Objectives of the project are, in no particular order:
* make a Forth that runs on my Commodore PET 2001
* have fun
* improve my "6502 assembly golf" skills
* find other people who are interested in this project

Future directions
* have a "Forth written in Forth" (metacompilation)
* implement a retro videogame 
* add support for more 6502-based computers and storage devices
* C=64, Upgrade ROM PETs, VIC-20 ports

The documentation in Tiddlywiki format is generated from the source code
tree.  In addition to a Glossary, I will try to describe some of the more
unusual concepts for an 8-bit Forth and attempt to justify why I put them
into PETTIL.  A copy from the most recent build is hosted at 
http://chitselb.com/files/tiddlypettil.html  

More in the Forth and Programming forums at http://forum.6502.org

xap.sh is the main build script, in bash
xap.rb is the Ruby companion to the build script.  

Together, they leave behind several build artifacts:

*  pearson.txt       raw list of wordnames for the pearson.rb script
*  pettil-core.def   assembler include file for transient build
*  pettil-core.err   core build log, generated by xa65
*  pettil-core.lab   core label file, generated by xa65
*  pettil-core.obj   core object file, generated by xa65
*  pettil.json       tiddlers extracted from the source code
*  pettil.mon        VICE xpet monitor labels for debugging
*  pettil.obj    <-- The loadable, runnable binary for the PET
*  pettil.sym        wordnames and code field addresses
*  pettil-tdict.err  transient dictionary build log, generated by xa65
*  pettil-tdict.lab  transient dictionary label file, generated by xa65
*  pettil-tdict.obj  transient dictionary binary
*  tiddlypettil/output/tiddlypettil.html     autogenerated documentation

There is no linker or relocation loader.  pettil.obj is a simple concatenation
of pettil-core.obj + pettil-tdict.obj + pettil.sym

pettil-core is the base language runtime
* arithmetic, boolean and relational operators
* stack and memory manipulation
* virtual memory support
* inner interpreter
* Sweet-16

pettil-tdict comprises anything that uses the symbol table (word names).  
When all is said and done, PETTIL application programs can use the memory
freed up when running without a development environment.  

pettil-tdict (the transient dictionary) contains
* outer interpreter
* defining words
* compiler
* assembler
* editor

To build PETTIL, clone this repository, install xa65, ruby and VICE

$ source xap.sh         # this does a build and runs PETTIL

After sourcing xap.sh, two bash aliases can be used
$ xap                   # cross-assembler
$ pettil                # run pettil in the vice emulator

Please email chitselb@gmail.com
with any suggestions for improving the documentation.  I want my mom to be
able to understand this and run PETTIL.

http://chitselb.com
